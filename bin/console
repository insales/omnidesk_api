#!/usr/bin/env ruby

require 'bundler/setup'
require 'ap'
require 'pry'

require 'dotenv'
Dotenv.load

require 'omnidesk_api'

if ENV['OMNIDESK_API_LOG']
  require 'logger'
  logger = Logger.new(ENV['OMNIDESK_API_LOG'])
  OmnideskApi.configure do |config|
    config.middleware = Faraday::RackBuilder.new do |builder|
      builder.response :logger, logger, bodies: true
      builder.use OmnideskApi::Response::RaiseError
    end
  end
end

require 'irb'
IRB.start
